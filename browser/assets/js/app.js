(function(t){function e(e){for(var i,r,c=e[0],o=e[1],u=e[2],p=0,d=[];p<c.length;p++)r=c[p],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);l&&l(e);while(d.length)d.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,c=1;c<a.length;c++){var o=a[c];0!==s[o]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},s={app:0},n=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"019c":function(t,e,a){},1:function(t,e){},"101c":function(t,e,a){t.exports=a.p+"assets/img/outSize.jpg"},"18c9":function(t,e,a){},"1b25":function(t,e,a){},"1fd3":function(t,e,a){},2395:function(t,e,a){},"27f3":function(t,e,a){"use strict";a("c725")},"4b3b":function(t,e,a){},"4d6a":function(t,e,a){"use strict";a("e7b2")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),s=a("8c4f"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("MyHeader"),a("ListContainer"),a("MyFooter")],1)},r=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"head-bar"},[a("button",{staticClass:"btn-pre",attrs:{disabled:1===t.curPage},on:{click:t.pageBack}},[t._v("上一页 ")]),a("div",{staticClass:"info-container"},[a("h2",[t._v("资源预览")]),a("h2",[t._v("(02"+t._s(t.start+1)+"02-02"+t._s(t.end)+"02)")])]),a("div",{staticClass:"page-show-container"},[a("h2",[t._v("第02"+t._s(t.curPage)+"02页")]),a("h2",{staticClass:"page-sum"},[t._v("共02"+t._s(t.pageMax)+"02页")])]),a("div",{staticClass:"page-jump-container"},[a("div",{staticClass:"page-jump-area"},[a("div",{staticClass:"page-input"},[a("span",[t._v("跳转到第02")]),a("input",{ref:"pageInput",attrs:{type:"number",min:"1"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.pageJump.apply(null,arguments)}}}),a("span",[t._v("02页")])]),a("button",{staticClass:"btn-jump",on:{click:t.pageJump}},[t._v("跳转 ")])])]),a("button",{staticClass:"btn-next",attrs:{disabled:t.curPage===t.pageMax},on:{click:t.pageForward}},[t._v("下一页 ")])])},o=[],u=a("5530"),l=a("2f62");function p(t,e,a){return t>a?t=a:t<e&&(t=e),t}var d={name:"MyHeader",methods:Object(u["a"])(Object(u["a"])({},Object(l["b"])("pageData",{pageChange:"pageChange"})),{},{pageForward:function(){var t=p(this.curPage+1,1,this.pageMax);this.pageChange({pageTo:t})},pageBack:function(){var t=p(this.curPage-1,1,this.pageMax);this.pageChange({pageTo:t})},pageJump:function(){var t=this.$refs.pageInput.value;if(this.$refs.pageInput.value="",t){var e=parseInt(t),a=p(e,1,this.pageMax);e===a?this.curPage!==e&&this.pageChange({pageTo:e}):alert("输入页码必须为一个 1 到 ".concat(this.pageMax," 的整数"))}}}),computed:Object(u["a"])({},Object(l["d"])("pageData",["pageMax","start","end","range","curPage"])),created:function(){var t=this;document.onkeyup=function(e){var a=e.key.toUpperCase();"D"===a?t.pageForward():"A"===a&&t.pageBack()}}},h=d,g=(a("8188"),a("2877")),f=Object(g["a"])(h,c,o,!1,null,"2b03b549",null),v=f.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-container"},[a("div",{staticClass:"spaceBar"}),a("div",{staticClass:"splitBar"}),a("div",{staticClass:"spaceBar"}),a("MyNavigate"),a("router-view"),a("div",{staticClass:"spaceBar"}),a("div",{staticClass:"splitBar"}),a("div",{staticClass:"spaceBar"})],1)},y=[],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toggle-banner"},[a("div",{staticClass:"pageIcon-container",on:{click:t.changeRoute}},[a("span",{staticClass:"iconfont icon-image-fill",class:{"pageIcon-active":"/image"===t.curRoute},attrs:{id:"/image"}}),a("span",{staticClass:"iconfont icon-video-fill",class:{"pageIcon-active":"/video"===t.curRoute},attrs:{id:"/video"}}),a("span",{staticClass:"iconfont icon-customerservice-fill",class:{"pageIcon-active":"/music"===t.curRoute},attrs:{id:"/music"}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:"/image"===t.curRoute,expression:"curRoute==='/image'"}],staticClass:"imgIcon-container",on:{click:t.switchImgView}},[a("span",{staticClass:"iconfont icon-picture-fill",class:{"imgIcon-active":!t.isGallery}}),a("span",{staticClass:"iconfont icon-gallery-view",class:{"imgIcon-active":t.isGallery}})])])},O=[],_=a("2909"),j=(a("be35"),{name:"MyNavigate",data:function(){return this.routeList=["/image","/video","/music"],{}},methods:Object(u["a"])(Object(u["a"])({},Object(l["c"])("routeData",{setRoute:"SET_CURROUTE",toggleViewer:"TOGGLE_VIEWER"})),{},{switchImgView:function(t){var e=Object(_["a"])(t.target.classList);-1===e.indexOf("imgIcon-active")&&this.toggleViewer()},changeRoute:function(t){var e=t.target,a=Object(_["a"])(e.classList);if(-1===a.indexOf("pageIcon-active")){var i=this.$router.history.current.path,s=e.id;-1!==this.routeList.indexOf(s)&&(this.setRoute({route:s}),i!==s&&this.$router.push(s))}}}),computed:Object(u["a"])({},Object(l["d"])("routeData",["curRoute","isGallery"]))}),w=j,P=(a("a891"),Object(g["a"])(w,b,O,!1,null,"73e1bec2",null)),C=P.exports,S={name:"ListContainer",components:{MyNavigate:C},data:function(){return this.initPath=initPath,this.routeList=["/image","/video","/music"],{}},methods:Object(u["a"])({},Object(l["c"])("routeData",{setRoute:"SET_CURROUTE"})),mounted:function(){var t=this.$router.history.current.path;"/"===t||-1===this.routeList.indexOf(t)?(this.$router.push(this.initPath),this.setRoute({route:this.initPath})):this.setRoute({route:t})},updated:function(){var t=this.$router.history.current.path;-1===this.routeList.indexOf(t)?(this.$router.push(this.initPath),this.setRoute({route:this.initPath})):this.setRoute({route:t})}},x=S,E=(a("ec72"),Object(g["a"])(x,m,y,!1,null,"3d698804",null)),M=E.exports,I=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[a("span",[t._v("作者：路边的灰机场")])])}],D={name:"MyFooter"},k=D,R=(a("67b5"),Object(g["a"])(k,I,L,!1,null,"4ade8903",null)),T=R.exports,G={name:"App",components:{MyHeader:v,ListContainer:M,MyFooter:T}},$=G,U=(a("7c55"),Object(g["a"])($,n,r,!1,null,null,null)),V=U.exports,N={namespaced:!0,actions:{pageChange:function(t,e){var a=e.pageTo;t.commit("PAGE_CHANGE",{pageTo:a})},initState:function(t,e){var a=e.pageMax,i=e.range,s=e.pathLength,n=e.pageTo;t.commit("INIT_RANGE",{curPage:n,pageMax:a,range:i,pathLength:s}),t.commit("PAGE_CHANGE",{pageTo:n})}},mutations:{PAGE_CHANGE:function(t,e){var a=e.pageTo;t.curPage=a,t.start=(a-1)*t.range,t.end=p(a*t.range,1,t.pathLength)},INIT_RANGE:function(t,e){var a=e.curPage,i=e.pageMax,s=e.range,n=e.pathLength;t.curPage=a,t.pageMax=i,t.range=s,t.pathLength=n}},state:{curPage:1,pageMax:1,range:0,pathLength:1,start:0,end:1}},A={namespaced:!0,actions:{},mutations:{TOGGLE_VIEWER:function(t){t.isGallery=!t.isGallery},SET_PLAYINGSUM:function(t,e){var a=e.num;t.playingSum=a},SET_CURROUTE:function(t,e){var a=e.route;t.curRoute=a}},state:{curRoute:"/",isGallery:!1,playingSum:0}};i["a"].use(l["a"]);var B=new l["a"].Store({modules:{pageData:N,routeData:A}}),q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"clear-fix image-container",on:{click:t.imgView}},t._l(t.pathList,(function(e,i){return a("li",{key:"img_"+i},[a("img",{attrs:{src:e.path,alt:e.alt,title:e.title,id:i},on:{load:t.loadOn,error:t.loadErr}})])})),0)},F=[],H=(a("cb29"),a("a434"),a("d81d"),a("07ac"),a("fb6a"),a("2ca0"),a("c82c")),J=a.n(H),W=(a("0808"),a("7731")),Y=a.n(W),z=a("101c"),K=a.n(z),Q=a("6210"),X=a.n(Q),Z={name:"ImgList",data:function(){var t=5*imgRow;return this.gallery=void 0,this.imgViewObj={},{loadIndex:-1,loadStart:!1,titleList:new Array(t).fill("")}},methods:Object(u["a"])(Object(u["a"])({},Object(l["b"])("pageData",{initPageState:"initState"})),{},{loadErr:function(t){t.target.src=Y.a},loadOn:function(t){var e=t.target,a=parseInt(e.id);if(this.titleList[a]!==e.title){this.titleList.splice(a,1,e.title);var i=this.end-this.start;this.loadingSum===i&&(this.loadStart=!0),this.loadStart&&this.loadIndex++}},imgView:function(t){var e=t.target;if(e.id){var a=parseInt(e.id);if(this.isGallery)this.gallery||(this.gallery=new J.a(t.currentTarget),this.gallery.view(a));else if(!this.imgViewObj[a]){var i=new J.a(e);this.imgViewObj[a]=i,i.show()}}},viewerDestroy:function(t){t?this.gallery&&(this.gallery.destroy(),this.gallery=void 0):(Object.values(this.imgViewObj).map((function(t){t.destroy()})),this.imgViewObj={})}}),computed:Object(u["a"])(Object(u["a"])(Object(u["a"])({},Object(l["d"])("pageData",["start","end"])),Object(l["d"])("routeData",["isGallery"])),{},{pathList:function(){var t=this,e=this.start,a=this.end;return imgPath.slice(e,a).map((function(a,i){var s="#loading#";return t.loadIndex<i?a=X.a:(s=a,a.startsWith("#")&&(s=a.slice(1),a=K.a)),{path:a,alt:"img_".concat(i+e+1),title:s}}))},loadingSum:function(){var t=this.end-this.start;return this.titleList.slice(0,t).reduce((function(t,e){return t+("#loading#"===e?1:0)}),0)}}),watch:{start:function(){this.loadStart=!1,this.loadIndex=-1,this.viewerDestroy(this.isGallery)},isGallery:function(){this.viewerDestroy(!this.isGallery)}},beforeMount:function(){var t=5*imgRow,e=imgPath.length,a=e%t===0?e/t:parseInt(e/t)+1,i=p(imgPage,1,a);this.initPageState({pageMax:a,range:t,pathLength:e,pageTo:i})}},tt=Z,et=(a("7fd7"),Object(g["a"])(tt,q,F,!1,null,"03ded6d6",null)),at=et.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"videos"},t._l(t.videoList,(function(t,e){return a("li",{key:"video_"+e},[a("VideoItem",{attrs:{options:t.options,path:t.path,title:t.title,_id:t._id}})],1)})),0)},st=[],nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"video-container vjs-big-play-centered"},[a("video",{ref:"videoPlayer",staticClass:"video-js replaceStyle"})]),a("div",{staticClass:"video-info"},[a("div",{staticClass:"info-general"},[a("span",[t._v(t._s(t._id))]),a("span",[t._v(t._s(t.titleShow))])]),a("div",{staticClass:"info-details"},[a("span",[t._v(t._s(t.title))]),t._m(0)])])])},rt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tri"},[a("div",{staticClass:"tri-out"}),a("div",{staticClass:"tri-in"}),a("div",{staticClass:"tri-out"}),a("div",{staticClass:"tri-in"})])}],ct=(a("ac1f"),a("1276"),a("f0e2")),ot=(a("fda2"),a("ea6a")),ut=a.n(ot),lt=a("d7c6"),pt=a.n(lt),dt={name:"VideoItem",props:{options:{type:Object,default:function(){return{}}},path:{type:String,required:!0},title:{type:String,required:!0},_id:{type:String,required:!0}},methods:Object(u["a"])({},Object(l["c"])("routeData",{setPlayingSum:"SET_PLAYINGSUM"})),computed:Object(u["a"])(Object(u["a"])(Object(u["a"])({},Object(l["d"])("routeData",["playingSum"])),Object(l["d"])("pageData",["start"])),{},{titleShow:function(){var t=this.title.split("/");return t[t.length-1]}}),watch:{path:function(){this.player.src([{src:this.path},{src:pt.a}])}},mounted:function(){var t=this,e={preload:"auto",sources:[{src:this.path},{src:pt.a}]};this.player=Object(ct["a"])(this.$refs.videoPlayer,Object(u["a"])(Object(u["a"])({},e),this.options)),this.player.on("loadstart",(function(){var t=this.src();t===pt.a||t===ut.a?this.controls(!1):this.controls(!0)})),this.player.on("play",(function(){t.playingSum>0&&t.player.pause(),t.setPlayingSum({num:t.playingSum+1})})),this.player.on("pause",(function(){t.setPlayingSum({num:t.playingSum-1})})),this.player.on("error",(function(){this.src(pt.a)}))},beforeDestroy:function(){this.player&&this.player.dispose()}},ht=dt,gt=(a("cc22"),Object(g["a"])(ht,nt,rt,!1,null,"3ed52d7e",null)),ft=gt.exports,vt={name:"VideoList",components:{VideoItem:ft},methods:Object(u["a"])(Object(u["a"])({},Object(l["b"])("pageData",{initPageState:"initState"})),Object(l["c"])("routeData",{setPlayingSum:"SET_PLAYINGSUM"})),computed:Object(u["a"])(Object(u["a"])({},Object(l["d"])("pageData",["start","end"])),{},{videoList:function(){var t=this.start,e=this.end;return videoPath.slice(t,e).map((function(e,a){var i=e;return e.startsWith("#")&&(i=e.slice(1),e=ut.a),{path:e,title:i,_id:"【".concat(t+a+1,"】")}}))}}),watch:{start:function(){this.setPlayingSum({num:0})}},beforeMount:function(){var t=2*videoRow,e=videoPath.length,a=e%t===0?e/t:parseInt(e/t)+1,i=p(videoPage,1,a);this.initPageState({pageMax:a,range:t,pathLength:e,pageTo:i}),this.setPlayingSum({num:0})}},mt=vt,yt=(a("99f9"),Object(g["a"])(mt,it,st,!1,null,"0c8d49fc",null)),bt=yt.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"musics"},t._l(t.musicList,(function(t,e){return a("li",{key:"music_"+e},[a("MusicPlayer",{attrs:{path:t.path,title:t.title,artist:t.artist,coverUrl:t.coverUrl}})],1)})),0)},_t=[],jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"player"},[a("div",{staticClass:"player-disk"},[a("MusicDisk",{attrs:{isPlaying:t.isPlaying,coverUrl:t.coverUrl}})],1),a("div",{staticClass:"main-area"},[a("div",{staticClass:"audio-container"},[a("div",{staticClass:"info",class:{"info-detail":t.showDetail},on:{dblclick:function(e){t.showDetail=!t.showDetail}}},[a("div",{staticClass:"title",style:{whiteSpace:t.showDetail?"":"nowrap"}},[t._v(t._s(t.title)+" ")]),a("div",{staticClass:"artist",style:{whiteSpace:t.showDetail?"":"nowrap",opacity:t.artist?1:0}},[t._v(t._s(t.artist)+" ")]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showDetail,expression:"showDetail"}],staticClass:"file-path"},[t._v(t._s(t.fullPath))])]),a("audio",{ref:"player",attrs:{src:t.path,preload:"auto",controls:""},on:{play:function(e){t.isPlaying=!0},pause:function(e){t.isPlaying=!1}}})])])])},wt=[],Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"disk",class:{"disk-playing":t.isPlaying}},[a("div",{staticClass:"disk-cover"},[a("img",{attrs:{src:t.coverImg,alt:"test"}})])])},Ct=[],St=a("cd53"),xt=a.n(St),Et={name:"MusicDisk",props:{isPlaying:{type:Boolean,required:!0},coverUrl:{type:String,default:""}},computed:{coverImg:function(){return this.coverUrl?this.coverUrl:xt.a}}},Mt=Et,It=(a("4d6a"),Object(g["a"])(Mt,Pt,Ct,!1,null,"a72c8934",null)),Lt=It.exports,Dt={name:"MusicPlayer",props:{path:{type:String,required:!0},title:{type:String,required:!0},artist:{type:String,default:""},coverUrl:{type:String,default:""}},components:{MusicDisk:Lt},data:function(){return{isPlaying:!1,showDetail:!1}},computed:Object(u["a"])(Object(u["a"])({},Object(l["d"])("pageData",["curPage"])),{},{fullPath:function(){var t=this.path;return t.startsWith("#")&&(t=t.slice(1)),t}}),watch:{curPage:function(){this.isPlaying=!1,this.$refs.player.pause(),this.showDetail=!1}}},kt=Dt,Rt=(a("27f3"),Object(g["a"])(kt,jt,wt,!1,null,"0079665e",null)),Tt=Rt.exports,Gt={name:"MusicList",components:{MusicPlayer:Tt},methods:Object(u["a"])({},Object(l["b"])("pageData",{initPageState:"initState"})),computed:Object(u["a"])(Object(u["a"])({},Object(l["d"])("pageData",["start","end"])),{},{musicList:function(){var t=this.start,e=this.end;return musicPath.slice(t,e).map((function(t){var e=JSON.parse(t),a=e.path,i=e.title,s=e.artist,n=e.coverUrl;if(!i){var r=a.split("/");i=r[r.length-1],i=i.slice(0,i.lastIndexOf("."))}return a.startsWith("#")&&(n=K.a),{path:a,title:i,artist:s,coverUrl:n}}))}}),beforeMount:function(){var t=2*musicRow,e=musicPath.length,a=e%t===0?e/t:parseInt(e/t)+1,i=p(musicPage,1,a);this.initPageState({pageMax:a,range:t,pathLength:e,pageTo:i})}},$t=Gt,Ut=(a("c584"),Object(g["a"])($t,Ot,_t,!1,null,"4e2033c2",null)),Vt=Ut.exports,Nt=new s["a"]({routes:[{path:"/image",component:at},{path:"/video",component:bt},{path:"/music",component:Vt}]});i["a"].config.productionTip=!1,i["a"].use(s["a"]),new i["a"]({render:function(t){return t(V)},store:B,router:Nt}).$mount("#app")},6210:function(t,e,a){t.exports=a.p+"assets/img/loading.gif"},"67b5":function(t,e,a){"use strict";a("1fd3")},7731:function(t,e,a){t.exports=a.p+"assets/img/loadError.jpg"},"7c55":function(t,e,a){"use strict";a("2395")},"7fd7":function(t,e,a){"use strict";a("18c9")},8188:function(t,e,a){"use strict";a("019c")},"99f9":function(t,e,a){"use strict";a("a597")},a597:function(t,e,a){},a891:function(t,e,a){"use strict";a("adf1")},adf1:function(t,e,a){},be35:function(t,e,a){},c584:function(t,e,a){"use strict";a("4b3b")},c725:function(t,e,a){},cc22:function(t,e,a){"use strict";a("1b25")},cd53:function(t,e,a){t.exports=a.p+"assets/img/disk.jpg"},d7c6:function(t,e,a){t.exports=a.p+"assets/media/loadError.mp4"},e7b2:function(t,e,a){},ea6a:function(t,e,a){t.exports=a.p+"assets/media/outSize.mp4"},ec72:function(t,e,a){"use strict";a("f977")},f977:function(t,e,a){}});
//# sourceMappingURL=app.js.map